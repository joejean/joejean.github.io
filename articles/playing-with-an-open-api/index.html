<!DOCTYPE html>
<html lang="en">
<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="A space where you can find useful tips, tricks, how-tos, tutorials and news on programming in particular and technology in general.">
		<meta name="author" content="Joe Jean">
		<meta name="robots" content="all">
		<meta name="keywords" content="coding, python, computer science student, web development, computer programming tips">

        <title>[Mashups Class] Playing with an open API</title>
        <link rel="stylesheet" href="http://www.joejean.net/theme/css/bootstrap.min.css"/>
		<link rel="stylesheet" href="http://www.joejean.net/theme/css/joeblog-bootstrap.css"/>
		<link rel="stylesheet" href="http://www.joejean.net/theme/css/font-awesome.min.css"/>
        <link href='https://fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
		<link rel="icon" href="http://www.joejean.net/theme/images/favicon.ico" />

        <link href="http://www.joejean.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Joe Jean Atom Feed" />

		<link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">

</head>

<body>
	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand img-responsive" href="http://www.joejean.net"> <img src="http://www.joejean.net/theme/images/joejeanlogo.png" class="img-responsive"/></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav pull-right">

			<li ><a href="http://www.joejean.net">Home</a></li>


                    <li><a href="http://www.joejean.net/pages/about-me/">About Me</a></li>
                    <li><a href="http://www.joejean.net/pages/portfolio/">Portfolio</a></li>

			<li><a href="http://www.joejean.net/files/Joe_Jean_Bachelor_Of_Science_Computer_Science_May_2016.pdf" target="_blank"> R&eacute;sum&eacute; </a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container -->
    </nav>

    <div class="container">
 <div class="row">
		
		
        <div class="col-md-8">
        
          <!-- the actual blog post: title/author/date/content -->
          <h1>[Mashups Class] Playing with an open API</h1>
          <p><span class="glyphicon glyphicon-user"></span> by Joe Jean | <span class="glyphicon glyphicon-time"></span> on Fri 05 September 2014 |
			<span class="glyphicon glyphicon-tag"></span> under: <span class="badge">Mashups</span> </p>
          <hr>
          
          <p>As part of my first homework for <a href="https://github.com/craigprotzel/Mashups" target="_blank">Mashups: Creating with web API</a>, I had to first find, post and describe an API that returns JSON data. </p>
<h3>Initial Plan</h3>
<p>After playing around with a couple of APIs, I decided to use the World Bank API. I like the fact that
one does not need a key to make requests to this API. And I also found the documentation
to be clear and useful.</p>
<p>I use the following url <code>http://api.worldbank.org/incomeLevels/LIC/countries?format=json</code>
in order to get a list of countries with income level classified as low income. As you can see four parameters are used
in the url. "incomeLevels" is used for information about all levels of income, "LIC" is an acronym that stands for
Low Level Income, and "countries" is the list of countries. By default, the World Bank API returns XML data. Since I wanted JSON, I had to explicitly specify that in the request url using <code>format=json</code>.</p>
<p>For the second part of the assignment, I created a small script that sends a request to the API with the url mentioned above
and display the data on a nicely formatted HTML page.  Even though my script was syntaxically correct, and the request to the server was successful &mdash; this is confirmed by the debugging info showed in my broswer's developer/Javascript console &mdash;I still could not retrieve any data returned by the API.</p>
<p>After doing some research about the issue, I found out that  the problem was due to an <a href="http://stackoverflow.com/questions/22186703/modifying-jquery-jsonp-callback-function">implementation issue with the World Bank API.</a>  If you want to learn more about the problem click the  previous link.</p>
<h3>Second Plan</h3>
<p>So since the World Bank API was not doing the job, I did some more research and found another open&mdash;authentication free&mdash; API: The US government jobs API.
I use the following url <code>http://api.usa.gov/jobs/search.json?query=tech+jobs</code>to request all open technology related positions offered by government agencies. And I got the data back, manipulated it and displayed it on an HTML page. The page can be accessed <a href="/files/mashups/hmw_1.html" target="_blank"> here. </a> And here is the JS code that does the job:
<pre><code>
$(document).ready(function(){</p>
<div class="highlight"><pre>          <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>

                <span class="nx">url</span><span class="o">:</span><span class="s2">&quot;http://api.usa.gov/jobs/search.json?query=tech+jobs&quot;</span><span class="p">,</span>
                <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
                <span class="nx">dataType</span><span class="o">:</span> <span class="s2">&quot;jsonp&quot;</span><span class="p">,</span>

                <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
                  <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">job</span><span class="p">){</span>
                    <span class="c1">// Those are for debugging purpose</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">job</span><span class="p">.</span><span class="nx">position_title</span><span class="p">);</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">job</span><span class="p">.</span><span class="nx">url</span><span class="p">)</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">job</span><span class="p">.</span><span class="nx">locations</span><span class="cp">[</span><span class="mi">0</span><span class="cp">]</span><span class="p">);</span>
                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">job</span><span class="p">.</span><span class="nx">organization_name</span><span class="p">);</span>

                  <span class="c1">// The following code will add the JSON content returned by the API to the DOM</span>
                  <span class="kd">var</span> <span class="nx">tr</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;tr/&gt;&#39;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">));</span>
                  <span class="kd">var</span> <span class="nx">td_1</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;td/&gt;&#39;</span><span class="p">)</span>
                      <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">tr</span><span class="p">);</span>
                  <span class="kd">var</span> <span class="nx">td_2</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;td/&gt;&#39;</span><span class="p">)</span>
                      <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">tr</span><span class="p">);</span>
                  <span class="kd">var</span> <span class="nx">aaa</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;a/&gt;&#39;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">,</span><span class="nx">job</span><span class="p">.</span><span class="nx">url</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">,</span><span class="s1">&#39;_blank&#39;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;job_title&#39;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">job</span><span class="p">.</span><span class="nx">position_title</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;&lt;br /&gt;&#39;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">td_1</span><span class="p">);</span>
                  <span class="kd">var</span> <span class="nx">employer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;span/&gt;&#39;</span><span class="p">)</span>
                      <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;employer&#39;</span><span class="p">)</span>
                      <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">job</span><span class="p">.</span><span class="nx">organization_name</span><span class="p">)</span>
                      <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">td_1</span><span class="p">);</span>
                  <span class="kd">var</span> <span class="nx">span_state</span><span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;span/&gt;&#39;</span><span class="p">)</span>
                      <span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;state&#39;</span><span class="p">)</span>
                      <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nx">job</span><span class="p">.</span><span class="nx">locations</span><span class="cp">[</span><span class="mi">0</span><span class="cp">]</span><span class="p">)</span>
                      <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">td_2</span><span class="p">);</span>
                  <span class="p">});</span>
                <span class="p">},</span>

                 <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Failed&quot;</span><span class="p">);</span>
                    <span class="p">}</span>
            <span class="p">});</span>
</pre></div>


<p>});
</code></pre></p>
          
          
          <!-- the comment box -->
          <div class="well">
            
			
				<div class="comments">

				  <div id="disqus_thread"></div>
				  <script type="text/javascript">
					var disqus_identifier = "articles/playing-with-an-open-api/";
					var disqus_url = "http://www.joejean.net/articles/playing-with-an-open-api/";
					(function() {
					var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
					dsq.src = 'http://joejeanblog.disqus.com/embed.js';
					(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
					})();
				  </script>
				</div>
            
          </div>
          
          

        </div>
		
		<!-- Social -->
		<div class="col-md-1">
		</div>
		
        <div class="col-md-3">
          <div class="well">
		   <h3> <span class="glyphicon glyphicon-info-sign"> </span>  About Me</h3>
			 
				<img src="https://dl.dropboxusercontent.com/u/73165478/Joe_Jean_ID.jpg" alt="Joe Jean Picture" class="img-circle img-responsive">

				<p> My name is Joe Jean. I'm a passionate Computer Science student. I love building things that solve real problems. I dream big and think positively.
                <a href="http://www.joejean.net/pages/about-me">Learn more about me</a> </p>
                
                
            <h3> <span class="glyphicon glyphicon-envelope"> </span> Get In Touch</h3>
				<ul class="list-unstyled">
                    <li> <i class="fa fa-facebook-square"></i> <a href="https://www.facebook.com/joe.jean3">Facebook</a></li>
                    <li> <i class="fa fa-linkedin-square"></i> <a href="http://ae.linkedin.com/in/joejean/">LinkedIn</a></li>
					<li> <i class="fa fa-google-plus"></i> <a href="http://google.com/+JoeJean">Google+</a></li>
					<li> <i class="fa fa-github"></i> <a href="https://github.com/joejean">GitHub</a></li>
                    <li> <i class="fa fa-envelope"></i> <a href="mailto:joe@joejean.net">Email</a></li>
                </ul>
            
            <hr class="btn-custom">
         
			<h3> <i class="fa fa-tags"></i> Tags</h3>
				<ul class="list-unstyled">
					
						<li class="tag-1"><a href="http://www.joejean.net/tag/api/">api</a></li>
						<li class="tag-4"><a href="http://www.joejean.net/tag/pelican/">pelican</a></li>
						<li class="tag-1"><a href="http://www.joejean.net/tag/python/">python</a></li>
						<li class="tag-4"><a href="http://www.joejean.net/tag/githubpages/">githubpages</a></li>
						<li class="tag-4"><a href="http://www.joejean.net/tag/books/">books</a></li>
						<li class="tag-1"><a href="http://www.joejean.net/tag/javascript/">javascript</a></li>
						<li class="tag-2"><a href="http://www.joejean.net/tag/tech/">tech</a></li>
						<li class="tag-1"><a href="http://www.joejean.net/tag/mashups/">mashups</a></li>
						<li class="tag-4"><a href="http://www.joejean.net/tag/summer2015/">summer2015</a></li>
						<li class="tag-4"><a href="http://www.joejean.net/tag/recurse-center/">recurse center</a></li>
						<li class="tag-1"><a href="http://www.joejean.net/tag/programming/">programming</a></li>
						<li class="tag-4"><a href="http://www.joejean.net/tag/reading/">reading</a></li>
						<li class="tag-4"><a href="http://www.joejean.net/tag/information/">information</a></li>
						<li class="tag-2"><a href="http://www.joejean.net/tag/communication/">communication</a></li>
				</ul>
                    
               
			<hr class="btn-custom">
			
            <h3><i class="fa fa-archive"></i>  Archives</h3>
              <div class="row">
                <div class="col-md-6">
                  <ul class="list-unstyled">
                    <li><a href="http://www.joejean.net/archives.html/">2013</a></li>
                    
                  </ul>
                </div>
                <div class="col-md-6">
                  <ul class="list-unstyled">
                    <li><a href="#alien-abductions"></a></li>
                    
                  </ul>
                </div>
              </div>
			  
          
            
          </div><!-- /well -->
        </div> <!-- col-md-3 -->
      </div>    



        <footer>
			<div class="row">
			  <div class="col-md-12">
			    <hr class="btn-custom">
				<p> Copyright &copy; Joe Jean 2014-2015. Designed and built by <a href="mailto:joe@joejean.net">Joe Jean</a>.
                <span class="pull-right">

                            <i class="fa fa-rss"></i> <a href="http://www.joejean.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">Atom feed</a>
                </span>
				</p>
				<br >
			  </div>
			</div>
		</footer>

    <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-46696882-1', 'joejean.info');
	  ga('send', 'pageview');

	</script>

  <script type="text/javascript">
    <!-- /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */ -->
    var disqus_shortname = 'joejeanblog'; // required: replace example with your forum shortname

    <!-- /* * * DON'T EDIT BELOW THIS LINE * * */ -->
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
    
	</div><!-- /.container -->


		<!-- AddThis Smart Layers BEGIN -->
		<!-- Go to http://www.addthis.com/get/smart-layers to customize -->
		<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-52c08d4000058eed"></script>
		<script type="text/javascript">
		  addthis.layers({
			'theme' : 'transparent',
			'share' : {
			  'position' : 'left',
			  'numPreferredServices' : 4
			}
		  });
		</script>
		<!-- AddThis Smart Layers END -->


	<!-- JavaScript -->
    <script src="http://www.joejean.net/theme/js/jquery-1.10.2.min.js"></script>
    <script src="http://www.joejean.net/theme/js/bootstrap.min.js"></script>
	<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>